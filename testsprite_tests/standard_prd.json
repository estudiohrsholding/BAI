{
  "meta": {
    "project": "B.A.I. Systems Platform",
    "date": "2025-11-19",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "B.A.I. Systems is a unified, multi-tenant PaaS platform offering turnkey business intelligence, automation, and creative content generation powered by advanced AI models such as Google Gemini. It serves SMEs and autonomous businesses by simplifying complex AI tools into actionable business automation, data intelligence, and content creation services.",
  "core_goals": [
    "Provide a scalable multi-tenant chatbot backend as a service with dynamic AI personalities tailored per client.",
    "Automate content planning and creation with generative AI for recurring social media posts and reels.",
    "Deliver actionable market intelligence via integrated data mining using Brave Search API and AI analysis.",
    "Enable seamless billing, subscription management, and feature gating powered by Stripe, with tiered plans and boosters.",
    "Offer a modular and extensible backend architecture with asynchronous task processing for scalable operations.",
    "Implement a comprehensive user experience from onboarding through interactive dashboards and real-time job status monitoring.",
    "Maintain robustness with health checks and efficient database session management."
  ],
  "key_features": [
    "Multi-tenant AI Chatbot System ('Cerebro Central') with personalized client personalities and persistent conversational memory.",
    "Content Planner module using n8n workflows to generate monthly post and reel content automatically.",
    "Data Mining dashboard for competitive market analysis and trend reports using Brave Search and Gemini AI.",
    "Content Creator supporting multi-platform influencer content campaigns with AI-generated multimedia.",
    "Billing & Subscription system with tiered plans (Motor, Cerebro, Partner) and add-on Boosters, integrated with Stripe.",
    "Async Workers system leveraging Arq and Redis for background task execution and job queuing.",
    "Frontend polling mechanisms for real-time status updates of background jobs using custom React hooks.",
    "Health checks validating connectivity of database, Redis, worker queues and AI engines.",
    "Software Studio App Store interface showcasing vertical solutions and demos.",
    "Dynamic contextual and personalized AI chat responses based on client identifiers and injected JSON datasets."
  ],
  "user_flow_summary": [
    "User subscribes to a tiered plan (Motor, Cerebro, Partner) via Stripe with setup fee and optional boosters.",
    "After payment, user completes onboarding form supplying business context, voice tone, and service data.",
    "The system injects client-specific data into chatbot system prompts and knowledge base (RAG) with custom JSON files.",
    "User accesses unified dashboard with modules: Content Planner, Data Mining Intelligence, Content Creator, Chat Interface.",
    "Content Planner automatically schedules and generates monthly social media posts and reels via n8n workflows.",
    "Data Mining runs competitor and market scans using Brave Search API and processes data with Gemini AI, presenting interactive dashboard reports.",
    "User communicates with personalized AI chatbot embedded as a widget on their website or other channels.",
    "Billing system enforces feature gating according to subscription tier and booster credits, prompting upsells if needed.",
    "Real-time job status is synced to frontend via polling hooks for seamless user feedback.",
    "System health is monitored continuously through dedicated endpoints validating infrastructure reachability."
  ],
  "validation_criteria": [
    "AI chatbot correctly switches personalities based on client_id and recalls conversation context across sessions.",
    "Content Planner generates 4 posts and 1 reel monthly per client with accurate scheduling and media generation.",
    "Data Mining dashboard provides timely and detailed competitor analysis reports as per client inputs.",
    "Stripe billing processes all subscription, setup and booster payments accurately and triggers feature gating appropriately.",
    "Async workers successfully execute background jobs with job status updating in real time on UI.",
    "Onboarding workflow completes within 48 hours from payment including context injection and connection verification.",
    "All major endpoints (database, Redis, AI engine) pass health checks without failures.",
    "System supports at least three simultaneous clients in multi-tenant mode with proper data isolation and dynamic prompt injection."
  ],
  "code_summary": {
    "tech_stack": [
      "Python 3.11",
      "FastAPI",
      "Next.js 14",
      "TypeScript",
      "PostgreSQL",
      "Redis",
      "Arq",
      "SQLModel",
      "Pydantic",
      "Tailwind CSS",
      "n8n",
      "Google Gemini API",
      "Stripe",
      "Docker"
    ],
    "features": [
      {
        "name": "Content Planner",
        "description": "Módulo para planificar y generar contenido mensual (4 Posts + 1 Reel) usando n8n para generación de IA",
        "files": [
          "backend/app/modules/content_planner/models.py",
          "backend/app/modules/content_planner/routes.py",
          "backend/app/modules/content_planner/service.py",
          "backend/app/modules/content_planner/schemas.py",
          "backend/app/workers/tasks/content_tasks.py",
          "frontend/src/components/content_planner/CampaignStatusTracker.tsx",
          "frontend/src/components/content_planner/CampaignResultViewer.tsx"
        ]
      },
      {
        "name": "Data Mining",
        "description": "Extracción de datos de mercado usando Brave Search API y análisis con Gemini",
        "files": [
          "backend/app/modules/data_mining/models.py",
          "backend/app/modules/data_mining/routes.py",
          "backend/app/modules/data_mining/service.py",
          "backend/app/modules/data_mining/schemas.py",
          "backend/app/workers/tasks/extraction_tasks.py",
          "frontend/src/components/data_mining/ExtractionStatusList.tsx",
          "frontend/src/components/data_mining/QueryStatusItem.tsx",
          "frontend/src/components/data_mining/ExtractionResultViewer.tsx"
        ]
      },
      {
        "name": "Content Creator",
        "description": "Generación de contenido para influencers IA con múltiples plataformas",
        "files": [
          "backend/app/modules/content_creator/models.py",
          "backend/app/modules/content_creator/routes.py",
          "backend/app/modules/content_creator/service.py",
          "frontend/src/components/content_creator/CampaignStatusList.tsx"
        ]
      },
      {
        "name": "Chat Module",
        "description": "Sistema de chat con IA usando Gemini, con historial y contexto",
        "files": [
          "backend/app/modules/chat/routes.py",
          "backend/app/modules/chat/service.py",
          "backend/app/modules/chat/repository.py",
          "backend/app/modules/chat/engine/gemini.py",
          "frontend/src/components/organisms/ChatWindow.tsx",
          "frontend/src/context/ChatContext.tsx"
        ]
      },
      {
        "name": "Billing & Subscriptions",
        "description": "Sistema de facturación con Stripe, planes tiered (Motor/Cerebro/Partner) y feature gating",
        "files": [
          "backend/app/modules/billing/routes.py",
          "backend/app/modules/billing/service.py",
          "backend/app/modules/billing/models.py",
          "backend/app/api/deps.py"
        ]
      },
      {
        "name": "Analytics",
        "description": "Tracking de uso de features y métricas de dashboard",
        "files": [
          "backend/app/modules/analytics/routes.py",
          "backend/app/modules/analytics/service.py",
          "backend/app/modules/analytics/models.py"
        ]
      },
      {
        "name": "Async Workers",
        "description": "Sistema de workers asíncronos usando Arq y Redis para tareas pesadas",
        "files": [
          "backend/app/workers/tasks/content_tasks.py",
          "backend/app/workers/tasks/extraction_tasks.py",
          "backend/app/workers/tasks/analytics.py",
          "backend/app/workers/worker.py",
          "backend/app/workers/queue.py"
        ]
      },
      {
        "name": "Health Check",
        "description": "Endpoint de health check que verifica Database, Redis, Workers y AI Engine",
        "files": [
          "backend/app/api/v1/endpoints/health.py"
        ]
      },
      {
        "name": "Frontend Polling",
        "description": "Sistema de polling inteligente para monitoreo de estado de jobs usando hooks personalizados",
        "files": [
          "frontend/src/hooks/useJobStatus.ts",
          "frontend/src/hooks/useMultipleJobStatuses.ts"
        ]
      },
      {
        "name": "Database Session Management",
        "description": "Sistema unificado de gestión de sesiones de base de datos con pool configuration",
        "files": [
          "backend/app/infrastructure/db/session.py",
          "backend/app/core/database.py",
          "backend/app/core/dependencies.py"
        ]
      }
    ]
  }
}
